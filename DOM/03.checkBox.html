<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    window.onload = function(){
      var items = document.getElementsByName('items')
      var checkedAllBox = document.getElementById('checkedAllBox')

      //1.#checkedAllBtn  全选按钮
      var checkedAllBtn = document.getElementById('checkedAllBtn')
      checkedAllBtn.onclick = function () {
        for (let i=0; i<items.length; i++) {
          items[i].checked = true
        }
        checkedAllBox.checked = true
      }
      
      //2.#checkedNoBtn 全不选
      var checkedNoBtn = document.getElementById('checkedNoBtn')
      checkedNoBtn.onclick = function () {
        for (let i=0; i<items.length; i++) {
          items[i].checked = false
        }
        checkedAllBox.checked = false
      }

      //3.#checkedRevBtn 反选 难点
      var checkedRevBtn = document.getElementById('checkedRevBtn')
      checkedRevBtn.onclick = function () {
        checkedAllBox.checked = true
        for (let i=0; i<items.length; i++) {
          items[i].checked = !items[i].checked
          if (!items[i].checked) {
            checkedAllBox.checked = false
          }
        }
      }

      //4.#sendBtn  提交 - 将选中的多选框的 value 属性值弹出
      var sendBtn = document.getElementById('sendBtn')
      sendBtn.onclick = function () {
        for (let i=0; i<items.length; i++) {
          if (items[i].checked) {
            alert(items[i].value)
          }
        }
      }

      //5.#checkedAllBox
      checkedAllBox.onclick = function () {
        for (let i=0; i<items.length; i++) {
          items[i].checked = this.checked
        }
      }

      //6.items
      // 一旦有 items 没选中，则全选/全不选为false
      for (let i=0; i<items.length; i++) {
        items[i].onclick = function () {
          checkedAllBox.checked = true
          for (let j=0; j<items.length; j++) {
            if (!items[j].checked) {
              checkedAllBox.checked = false
              break
            }
          }
        }
      }

    }
  </script>

  <form action="" method="post">
    你爱好的运动是？
    <input type="checkbox" id="checkedAllBox"/>全选/全不选
    <br/>
    <input type="checkbox" name="items" value="足球"/>足球
    <input type="checkbox" name="items" value="篮球"/>篮球
    <input type="checkbox" name="items" value="羽毛球"/>羽毛球
    <input type="checkbox" name="items" value="乒乓球"/>乒乓球
    <br/>
    <input type="button" id="checkedAllBtn" value="全 选"/>
    <input type="button" id="checkedNoBtn" value="全不选"/>
    <input type="button" id="checkedRevBtn" value="反 选"/>
    <input type="button" id="sendBtn" value="提交"/>
  </form>
</body>
</html>